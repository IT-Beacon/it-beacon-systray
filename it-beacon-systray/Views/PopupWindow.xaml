<Window x:Class="it_beacon_systray.Views.PopupWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        Width="320" 
        SizeToContent="Height"
        WindowStyle="None"
        AllowsTransparency="True"
        ResizeMode="NoResize"
        Background="Transparent"
        ShowInTaskbar="False"
        Focusable="True"
        Style="{StaticResource PopupWindowStyle}">

    <Border CornerRadius="8"
            BorderThickness="1"
            BorderBrush="{DynamicResource PopupBorderBrush}"
            Background="{DynamicResource PopupBackgroundBrush}" MinHeight="275">

        <Grid Margin="15,5,15,15">
            <Grid.RowDefinitions>
                <RowDefinition Height="60px"/>
                <RowDefinition Height="*"/>
                <RowDefinition Height="Auto"/>
                <RowDefinition Height="Auto"/>
            </Grid.RowDefinitions>

            <DockPanel Grid.Row="0" Margin="5,0,5,10" VerticalAlignment="Center" HorizontalAlignment="Center">
                <TextBlock x:Name="HostnameValue" Text="Computer name" 
                           Foreground="{DynamicResource PopupForegroundBrush}"
                           VerticalAlignment="Center"
                           FontWeight="SemiBold"/>
            </DockPanel>

            <Separator Grid.Row="0" VerticalAlignment="Bottom" Margin="-15,5,-15,5" Foreground="{DynamicResource PopupBorderBrush}" Background="#3FA0A0A0"/>

            <ScrollViewer Grid.Row="1" Margin="10,15,10,30" VerticalScrollBarVisibility="Hidden" HorizontalScrollBarVisibility="Disabled" MaxHeight="350">
                <StackPanel>
                    <StackPanel x:Name="NetworkInfoPanel">
                        <TextBlock Text="NETWORK INFO" FontWeight="SemiBold" FontSize="12" Foreground="{DynamicResource PopupForegroundBrush}" Opacity="0.7"/>
                        <Border x:Name="NetworkBorder" Background="Transparent" Cursor="Hand" Margin="15,2,0,15" HorizontalAlignment="Left" MouseLeftButtonUp="CopyValue_Click">
                            <TextBlock x:Name="NetworkValue" Text="loading...">
                                <TextBlock.Style>
                                    <Style TargetType="TextBlock">
                                        <Setter Property="Foreground" Value="{DynamicResource PopupForegroundBrush}"/>
                                        <Setter Property="FontSize" Value="20"/>
                                        <Style.Triggers>
                                            <Trigger Property="IsMouseOver" Value="True">
                                                <Setter Property="FontWeight" Value="Bold"/>
                                            </Trigger>
                                        </Style.Triggers>
                                    </Style>
                                </TextBlock.Style>
                            </TextBlock>
                        </Border>
                    </StackPanel>

                    <StackPanel x:Name="RiskScorePanel">
                        <TextBlock Text="RISKSCORE" FontWeight="Bold" Opacity="0.7" FontSize="11" Foreground="{DynamicResource PopupForegroundBrush}"/>
                        <Border x:Name="RiskScoreBorder" Background="Transparent" Cursor="Hand" Margin="15,2,0,15" HorizontalAlignment="Left" MouseLeftButtonUp="UpdateValue_Click">
                            <StackPanel Orientation="Horizontal" VerticalAlignment="Center">
                                <TextBlock x:Name="RiskScoreValue" Text="loading...">
                                    <TextBlock.Style>
                                        <Style TargetType="TextBlock">
                                            <Setter Property="Foreground" Value="{DynamicResource PopupForegroundBrush}"/>
                                            <Setter Property="FontSize" Value="20"/>
                                            <Style.Triggers>
                                                <Trigger Property="IsMouseOver" Value="True">
                                                    <Setter Property="FontWeight" Value="Bold"/>
                                                </Trigger>
                                            </Style.Triggers>
                                        </Style>
                                    </TextBlock.Style>
                                </TextBlock>

                                <TextBlock x:Name="RiskScoreTimestamp" Text="" 
                                       FontSize="12" 
                                       Foreground="{DynamicResource PopupForegroundBrush}" 
                                       Opacity="0.6"
                                       VerticalAlignment="Bottom"
                                       Margin="8,0,0,2"/>
                            </StackPanel>
                        </Border>
                    </StackPanel>

                    <StackPanel x:Name="UptimePanel">
                        <TextBlock Text="UPTIME" FontWeight="Bold" Opacity="0.7" FontSize="11" Foreground="{DynamicResource PopupForegroundBrush}"/>
                        <TextBlock x:Name="UptimeValue" Text="loading..." Margin="15,2,0,15" FontSize="20" Foreground="{DynamicResource PopupForegroundBrush}"/>
                    </StackPanel>

                    <StackPanel x:Name="LocationPanel">
                        <TextBlock Text="LOCATION" FontWeight="Bold" Opacity="0.7" FontSize="11" Foreground="{DynamicResource PopupForegroundBrush}"/>
                        <TextBlock x:Name="LocationValue" Text="loading..." Margin="15,2,0,0" FontSize="20" Foreground="{DynamicResource PopupForegroundBrush}"/>
                    </StackPanel>
                </StackPanel>
            </ScrollViewer>

            <Separator x:Name="QuickShortcutsSeparator" Grid.Row="1" VerticalAlignment="Bottom" Margin="-15,5,-15,5" Foreground="{DynamicResource PopupBorderBrush}" Background="#3FA0A0A0"/>

            <UniformGrid x:Name="QUICK_SHORTCUT_PANEL" Grid.Row="2" Columns="3" Margin="0,5,0,10">
                <!--<Button ToolTip="Chat with Support" Style="{StaticResource IconButtonStyle}" Click="QuickButton1_Click">
                    <TextBlock FontFamily="Segoe Fluent Icons" Text="&#xe8f2;" FontSize="12" VerticalAlignment="Center" HorizontalAlignment="Center" Foreground="{DynamicResource PopupForegroundBrush}" Opacity="0.8"/>
                </Button>

                <Button ToolTip="Open Support Ticket" Style="{StaticResource IconButtonStyle}" Click="QuickButton2_Click">
                    <TextBlock FontFamily="Segoe Fluent Icons" Text="&#xf0e3;" FontSize="12" VerticalAlignment="Center" HorizontalAlignment="Center" Foreground="{DynamicResource PopupForegroundBrush}" Opacity="0.8"/>
                </Button>

                <Button ToolTip="CVAD IT Homepage" Style="{StaticResource IconButtonStyle}" Click="QuickButton3_Click">
                    <TextBlock FontFamily="Segoe Fluent Icons" Text="&#xeb41;" FontSize="12" VerticalAlignment="Center" HorizontalAlignment="Center" Foreground="{DynamicResource PopupForegroundBrush}" Opacity="0.8"/>
                </Button>-->
            </UniformGrid>

            <Border Grid.Row="3" 
                    Background="{DynamicResource FooterBackgroundBrush}" 
                    Margin="-15,0,-15,-15" 
                    CornerRadius="0,0,7,7">

                <Grid>
                    <Grid.RowDefinitions>
                        <RowDefinition Height="Auto" />
                        <RowDefinition Height="*" />
                    </Grid.RowDefinitions>

                    <Separator Grid.Row="0" VerticalAlignment="Top" Margin="0,0,0,0" Foreground="{DynamicResource PopupBorderBrush}" Background="{x:Null}"/>

                    <Grid Grid.Row="1" Margin="10,10,10,10">

                        <TextBlock x:Name="UserNameValue" Text="CVAD Shared Student" 
                                    Foreground="{DynamicResource PopupForegroundBrush}"
                                    VerticalAlignment="Center"
                                    FontWeight="SemiBold" Margin="10,0,0,0"/>

                        <Button HorizontalAlignment="Right" 
                                Background="Transparent" 
                                BorderThickness="0" 
                                Cursor="Hand" 
                                Foreground="{DynamicResource PopupForegroundBrush}" 
                                Opacity="0.7"
                                Padding="5"
                                ToolTip="Coming soon maybe"
                                Click="SettingsButton_Click">
                            <Button.ContextMenu>
                                <ContextMenu Loaded="ContextMenu_Loaded">
                                    <MenuItem x:Name="TestReminderMenuItem" Header="Test Reminder" Click="TestReminder_Click"/>
                                    <MenuItem Header="Settings" Click="Settings_Click"/>
                                    <MenuItem Header="About" Click="About_Click"/>
                                    <Separator Foreground="{x:Null}" Visibility="Hidden" />
                                    <MenuItem Click="Exit_Click" ToolTip="Only I.T. may exit this app.">
                                        <MenuItem.Header>
                                            <StackPanel Orientation="Horizontal">
                                                <TextBlock FontFamily="Segoe Fluent Icons" 
                                                           Text="&#xE72E;" 
                                                           VerticalAlignment="Center" 
                                                           Margin="0,0,8,0"/>
                                                <TextBlock Text="Exit"/>
                                            </StackPanel>
                                        </MenuItem.Header>
                                    </MenuItem>
                                </ContextMenu>
                            </Button.ContextMenu>
                            <TextBlock FontFamily="Segoe Fluent Icons"
                                       Text="&#xE713;"
                                       FontSize="18" FontWeight="Regular"
                                       VerticalAlignment="Center"
                                       HorizontalAlignment="Center"
                                       Foreground="{Binding Foreground, RelativeSource={RelativeSource AncestorType=Button}}"/>
                        </Button>
                    </Grid>
                </Grid>
            </Border>
        </Grid>
    </Border>
</Window>